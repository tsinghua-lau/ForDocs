import{_ as s,o,c as a,R as n}from"./chunks/framework.d95bcf44.js";const p="/forDocs/assets/image.86331371.png",l="/forDocs/assets/image-1.f4378cee.png",t="/forDocs/assets/image-2.ee5fd74a.png",q=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"deploymentRecord/fusion-ui.md"}'),e={name:"deploymentRecord/fusion-ui.md"},c=n(`<h2 id="fusion-ui部署" tabindex="-1">Fusion Ui部署 <a class="header-anchor" href="#fusion-ui部署" aria-label="Permalink to &quot;Fusion Ui部署&quot;">​</a></h2><h2 id="报错一" tabindex="-1">报错一 <a class="header-anchor" href="#报错一" aria-label="Permalink to &quot;报错一&quot;">​</a></h2><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>Unable to locate executable file: pnpm. Please verify either the file path exists or the file can be found within a directory specified by the PATH environment variable. Also check the file mode to verify the file is executable.</p></div><div class="info custom-block"><p class="custom-block-title">翻译</p><p>无法找到可执行文件：pnpm。请验证文件路径是否存在，或者文件可以在 PATH 环境变量指定的目录中找到。还要检查文件模式以验证文件是可执行的。</p></div><p>解决：</p><p>gitHub 工作流配置文件中添加 <code>run: npm i -g pnpm</code></p><p>使用 yarn 安装，可能不会报错 无需添加</p><p>yml 完整配置：</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> Deploy</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">on</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">push</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">branches</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> master</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">jobs</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">deploy</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    runs</span><span style="color:#89DDFF;">-</span><span style="color:#FFCB6B;">on</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> ubuntu</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">latest</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">steps</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">uses</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> actions</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">checkout@v3</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">uses</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> actions</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">setup</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">node@v3</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;font-style:italic;">with</span><span style="color:#A6ACCD;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">          node</span><span style="color:#89DDFF;">-</span><span style="color:#FFCB6B;">version</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">16</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> Install pnpm</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#FFCB6B;">run</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> npm i </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">g pnpm</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> install </span><span style="color:#89DDFF;">&amp;</span><span style="color:#A6ACCD;"> Build</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#FFCB6B;">run</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> pnpm i </span><span style="color:#89DDFF;">&amp;&amp;</span><span style="color:#A6ACCD;"> pnpm </span><span style="color:#FFCB6B;">docs</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">build</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> Deploy</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#FFCB6B;">uses</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> peaceiris</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">actions</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">gh</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">pages@v3</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;font-style:italic;">with</span><span style="color:#A6ACCD;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#FFCB6B;">github_token</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> $</span><span style="color:#89DDFF;">{{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">secrets</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">GITHUB_TOKEN</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}}</span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#FFCB6B;">publish_dir</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> docs</span><span style="color:#89DDFF;">/.</span><span style="color:#A6ACCD;">vitepress</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">dist</span></span></code></pre></div><h2 id="报错二" tabindex="-1">报错二 <a class="header-anchor" href="#报错二" aria-label="Permalink to &quot;报错二&quot;">​</a></h2><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>pnpm i &amp;&amp; pnpm docs:build shell: /usr/bin/bash -e {0} Scope: all 3 workspace projects  ERR_PNPM_OUTDATED_LOCKFILE  Cannot install with &quot;frozen-lockfile&quot; because pnpm-lock.yaml is not up to date with docs/package.json</p><p>Note that in CI environments this setting is true by default. If you still need to run install in such cases, use &quot;pnpm install --no-frozen-lockfile&quot;</p><p>Failure reason: specifiers in the lockfile ({&quot;markdown-it&quot;:&quot;^13.0.1&quot;,&quot;@fusion-ui/docs&quot;:&quot;workspace:*&quot;,</p><p>&quot;@types/markdown-it&quot;:&quot;^12.2.3&quot;,&quot;unocss&quot;:&quot;^0.50.0&quot;}) don&#39;t match specs in package.json</p><p>({&quot;@types/markdown-it&quot;:&quot;^12.2.3&quot;,&quot;unocss&quot;:&quot;^0.50.0&quot;,&quot;fusion-ui-vue&quot;:&quot;^1.0.2&quot;,</p><p>&quot;markdown-it&quot;:&quot;^13.0.1&quot;}) Error: Process completed with exit code 1.</p></div><div class="info custom-block"><p class="custom-block-title">翻译</p><p>范围：所有3个工作区项目</p><p>ERR_PNPM_OUTDATED_LOCKFILE 无法使用“frozen-lockfile”安装，因为pnpm-lock.yaml不是最新的docs/package.json</p><p>请注意，在CI环境中，默认情况下，此设置为真。如果您在这种情况下仍然需要运行安装，请使用“pnpm install --no-frozen-lockfile”</p><p>失败原因：</p><p>锁定文件中的指定符（{&quot;markdown-it&quot;:&quot;^13.0.1&quot;,&quot;@fusion-ui/docs&quot;:&quot;workspace:*&quot;,</p><p>&quot;@Types/markdown-it&quot;:&quot;^12.2.3&quot;,&quot;unocss&quot;:&quot;^0.50.0&quot;}）与package.json中的规格不匹配</p><p>({&quot;@Types/markdown-it&quot;:&quot;^12.2.3&quot;,&quot;unocss&quot;:&quot;^0.50.0&quot;,&quot;fusion-ui-vue&quot;:&quot;^1.0.2&quot;,</p><p>&quot;Markdown-it&quot;:&quot;^13.0.1&quot;}）</p><p>错误：使用退出代码1完成流程。</p></div><p>解决：</p><p>运行 <code>pnpm install</code> 重新获取依赖</p><h2 id="报错三" tabindex="-1">报错三 <a class="header-anchor" href="#报错三" aria-label="Permalink to &quot;报错三&quot;">​</a></h2><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>/usr/bin/git push origin gh-pages remote: Permission to tsinghua-lau/Fusion-Ui.git denied to github-actions[bot]. fatal: unable to access &#39;<a href="https://github.com/tsinghua-lau/Fusion-Ui.git/" target="_blank" rel="noreferrer">https://github.com/tsinghua-lau/Fusion-Ui.git/</a>&#39;: The requested URL returned error: 403 Error: Action failed with &quot;The process &#39;/usr/bin/git&#39; failed with exit code 128&quot;</p></div><div class="info custom-block"><p class="custom-block-title">翻译</p><p>/Usr/bin/git推送原点gh-pages 远程：对tsinghua-lau/Fusion-Ui.git的权限被拒绝给github-actions[bot]。 致命：无法访问&#39;<a href="https://github.com/tsinghua-lau/Fusion-Ui.git/" target="_blank" rel="noreferrer">https://github.com/tsinghua-lau/Fusion-Ui.git/</a>&#39;：请求的URL返回错误：403 错误：操作失败，使用“进程&#39;/usr/bin/git&#39;以退出代码128失败</p></div><p>解决：</p><p>进入项目的 Settings -&gt; Secrets -&gt; Actions -&gt; general -&gt; 勾选权限 <img src="`+p+'" alt="Alt text"></p><h2 id="报错四" tabindex="-1">报错四 <a class="header-anchor" href="#报错四" aria-label="Permalink to &quot;报错四&quot;">​</a></h2><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>Invalid workflow file: .github/workflows/deploy.yml#L2 You have an error in your yaml syntax on line 2</p></div><div class="info custom-block"><p class="custom-block-title">翻译</p><p>无效的工作流文件：.github/workflows/deploy.yml#L2 第2行的yaml语法有错误</p></div><p>解决： yml 文件格式错误，检查格式，在线检测工具：<a href="https://www.bejson.com/validators/yaml_editor/" target="_blank" rel="noreferrer">https://www.bejson.com/validators/yaml_editor/</a></p><p><img src="'+l+`" alt="Alt text"></p><h2 id="报错五" tabindex="-1">报错五 <a class="header-anchor" href="#报错五" aria-label="Permalink to &quot;报错五&quot;">​</a></h2><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>input: chore:build ✖ subject may not be empty [subject-empty] ✖ type may not be empty [type-empty]</p></div><div class="info custom-block"><p class="custom-block-title">翻译</p><p>输入：chore:build ✖主题不能为空[subject-空] ✖类型不能为空[类型-空]</p></div><p>解决：</p><p>提交信息格式错误，改为：<code>chore: build</code></p><h2 id="配置-workspace" tabindex="-1">配置 workspace <a class="header-anchor" href="#配置-workspace" aria-label="Permalink to &quot;配置 workspace&quot;">​</a></h2><ul><li>根目录 <code>package.json</code>:</li></ul><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">dependencies</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">: </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">@fusion-ui/components</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">workspace:*</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">@fusion-ui/constants</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">workspace:*</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">@fusion-ui/hooks</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">workspace:*</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">@fusion-ui/utils</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">workspace:*</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">@vue/shared</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">^3.2.47</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">@vueuse/core</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">^9.1.1</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">fusion-ui</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">workspace:*</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">lodash-unified</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">^1.0.3</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">vue</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">^3.2.45</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">},</span></span></code></pre></div><ul><li><p>每个子包下 <code>package.json</code>: 配置</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight"><code><span class="line"></span></code></pre></div></li><li><p>根目录 <code>pnpm i</code><img src="`+t+'" alt="Alt text"></p></li><li><p>使用： <code>import fusionUi from &#39;@fusion-ui/hooks&#39;</code></p></li></ul>',33),r=[c];function i(D,u,F,y,C,A){return o(),a("div",null,r)}const m=s(e,[["render",i]]);export{q as __pageData,m as default};
